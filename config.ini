# =============================================================================
# AI病历分析系统 - 配置文件 (config.ini)
# =============================================================================

# 数据库连接配置
[database]
server = 127.0.0.1
user = sa
password = sa
database = SA
# 建立连接的最大等待时间（秒）
login_timeout = 30
# SQL命令完成的最大等待时间（秒）
timeout = 30
# 是否将结果行转换为字典；False使用元组
as_dict = true
# 从数据库预取的行数
arraysize = 100
# 是否启用SQL操作的自动提交
autocommit = false

# =============================================================================
# API组配置
# 支持多个API服务商，系统会随机选择已启用的组进行调用
# 每个组可以配置独立的URL、密钥、模型和超时时间
# =============================================================================

# test1组配置（主要使用的AI服务商）
[api_group_test1]
# 是否启用该API组
enabled = true
# API服务地址（使用代理以提高访问稳定性）
url = https://test1/v1/chat/completions
# API密钥列表（逗号分隔，系统会自动轮换使用）
api_keys = sk-ttt,
           sk_123
# 使用的AI模型（DeepSeek R1 免费版本，适合医疗文本分析）
model = testmodel1
# 请求超时时间（秒）
timeout = 900

# 备用API组配置（已禁用）
[api_group_test2]
enabled = false
url = https://test2/v1/chat/completions
api_keys = sk_555,
           sk_666
model = testmodel2
timeout = 900

# =============================================================================
# 代理配置（可选）
# =============================================================================
[proxy]
# 是否启用代理服务
enabled = false
# HTTP代理地址（格式：http://user:password@host:port）
http_proxy = http://127.0.0.1:7890
# HTTPS代理地址
https_proxy = http://127.0.0.1:7890

# =============================================================================
# 多线程配置
# =============================================================================
[thread]
# 并发处理的线程数（推荐范围：5-20，根据服务器性能调整）
max_workers = 10
# 最小延迟时间（秒）
# 用于错开多线程的API请求时间，避免瞬间大量请求
min_delay = 0
# 最大延迟时间（秒）
max_delay = 20

# =============================================================================
# 系统运行模式
# =============================================================================
[system]
# 运行模式配置
# RELEASE: 生产模式，输出简化日志，性能优化
# DEBUG: 调试模式，输出详细日志，便于问题排查
mode = RELEASE